import { motion } from 'framer-motion';
import React from "react";
import { SpotType } from '../data/allSpots'; 

interface SMFA_BasementProps {
  renderSpot: (
    id: string,
    d: string,
		type: SpotType,
    latestSpot: string | undefined,
		title?: string
  ) => React.JSX.Element;
  latestSpot: string | undefined;
}

export default function SMFA_Basement({
  renderSpot,
  latestSpot,
}: SMFA_BasementProps) {
  const dMap: Record<
  	string, 
		{ d: string; type: SpotType; title: string }
	> = {
		// A000C4: 'M292.55,208.26h18.99v90.54h-18.99Z',
		// A000C3: 'M292.55,174.61h292.26v29.44h-292.26Z',
		// A000C5: 'M591.59,174.61h169.92v29.44h-169.92Z',
		CorridorA000C2: {
			d: 'M420.34,243.92h20.28v51.91h-20.28Z',
			type: 'green',
			title: 'Felipe Gallery',
		},
		CorridorB000C1: {
			d: 'M292.07,483.61h221.52v32.02h-221.52Z',
			type: 'green',
			title: 'Vending Gallery I',
		},
		CorridorB000C2: {
			d: 'M523.52,483.61h272.44v32.02h-272.44Z',
			type: 'green',
			title: 'Vending Gallery II',
		},
		CorridorB000C3: {
			d: 'M292.07,593.45h377.92v14.11h-377.92Z',
			type: 'orange',
			title: 'Corridor B000C3',
		},
		CorridorA000C1: {
			d: 'M390.23,426.37V480.01H447.95V426.37H439.63V412.36H390.23V426.37Z',
			type: 'shared',
			title: 'The Well',
		},
		CorridorA000C2_2: {
			d: 'M411.91,218.91h6.65v23.85h-6.65Z',
			type: 'green',
			title: 'Lower Mural',
		},
		CorridorA000C1_2: {
			d: 'M410.93,393.16h7.63v16.38h-7.63Z',
			type: 'green',
			title: 'Lowercase Gallery',
		},
  };
  const nonSelectedSpots = Object.keys(dMap).filter(
    (id) => id !== latestSpot
  );

  return (
    <>
      {/* Base boundary */}
			<g id="SMFA_B_Base" fill="#f0ead2">
				<path
					d="M891.95,390.01v-169.11h-24.36V71.65H758.94v5.46H317.75v-5.46H207.11v232.2h110.64v-5.04h62.74v89.28h-43.06v43.32h49.32v48.6H201.35v198.48h666.24V480.01H449.63v-55.32h-5.94v-38.62h5.6l24.44,24.44l15.95-15.95-40.39-40.39h-5.6v-55.36h299.37v91.2h148.89Z"
					stroke="#6c584c"
					strokeWidth={1}
				/>
			</g>

      {/* Gray rooms */}
			<motion.g
        id="GrayRooms"
        initial={{ opacity: 0, scale: 0.98 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.2, duration: 0.4 }}
      >
        {/* Insert your gray room paths or rects here */}
      	<g id="SMFA_B_Gray" fill="#c2c1c0">
					<rect id="StudioA004" x="414.53" y="82.09" width="120.18" height="88.68"><title>StudioA004</title></rect>
					<rect id="StudioA006" x="537.95" y="82.09" width="110.82" height="88.68"><title>StudioA006</title></rect>
					<polygon id="StudentServicesA003" points="471.23 208.26 442.55 208.26 442.55 241.9 471.23 241.9 471.23 263.53 490.67 263.53 490.67 241.9 490.67 208.26 471.23 208.26"><title>StudentServicesA003</title></polygon>
					<rect id="StairA000S2" x="791.76" y="171.7" width="72.19" height="34.13"><title>StairA000S2</title></rect>
					<rect id="OfficeA008" x="651.59" y="82.06" width="43.08" height="88.7"><title>OfficeA008</title></rect>
					<rect id="StudioA010" x="697.03" y="82.06" width="64.48" height="88.7"><title>StudioA010</title></rect>
					<polygon id="_444" points="869.03 224.41 869.03 298.81 747.34 298.81 747.34 386.53 889.31 386.53 889.31 224.41 869.03 224.41"><title>444</title></polygon>
					<polygon id="LockerRoomA016" points="863.94 144.85 826.41 144.85 826.41 151.69 809.46 151.69 809.46 168.85 863.94 168.85 863.94 144.85"><title>LockerRoomA016</title></polygon>
					<polygon id="Utilities" points="864.11 76.33 764.76 76.33 764.76 150.13 824.27 150.13 824.27 143.17 864.11 143.17 864.11 76.33"><title>Utilities</title></polygon>
					<rect id="Labs" x="208.91" y="483.61" width="57.33" height="187.32"><title>Labs</title></rect>
					<rect id="EquipmentRentalB004" x="318.11" y="519.61" width="55.92" height="70.32"><title>EquipmentRentalB004</title></rect>
					<rect id="DarkRmB006" x="378.14" y="519.61" width="41.85" height="70.32"><title>DarkRmB006</title></rect>
					<rect id="StorageB002" x="292.07" y="519.61" width="23.76" height="70.32"><title>StorageB002</title></rect>
					<polygon id="_333" points="470.75 519.61 422.27 519.61 422.27 589.93 534.11 589.93 534.11 519.61 470.75 519.61"><title>333</title></polygon>
					<rect id="StorageB013" x="494.67" y="610.57" width="24.44" height="33.79"><title>StorageB013</title></rect>
					<rect id="OfficeandLab" x="559.81" y="519.61" width="81.56" height="70.32"><title>OfficeandLab</title></rect>
					<rect id="StudioB015" x="521.31" y="610.57" width="122.86" height="60.36"><title>StudioB015</title></rect>
					<rect id="B026" x="799.67" y="519.61" width="57.24" height="70.32"><title>B026</title></rect>
					<rect id="B031" x="724.11" y="593.45" width="51.19" height="77.47"><title>B031</title></rect>
					<rect id="B019" x="673.13" y="593.45" width="48.34" height="77.47"><title>B019</title></rect>
					<polygon id="Utilities-2" points="828.08 208.26 828.08 239.77 791.76 239.77 791.76 295.83 863.94 295.83 863.94 208.26 828.08 208.26"><title>Utilities-2</title></polygon>
					<polygon id="OfficeArea" points="743.71 519.61 673.13 519.61 673.13 589.93 775.3 589.93 775.3 543.81 743.71 543.81 743.71 519.61"><title>OfficeArea</title></polygon>
					<rect id="ElevA000E" x="791.76" y="208.26" width="33.92" height="29.66"><title>ElevA000E</title></rect>
					<rect id="StairA000S1" x="240.87" y="266.35" width="47.43" height="18.22"><title>StairA000S1</title></rect>
					<polygon id="A002" points="313.43 82.06 313.43 76.09 269.37 76.09 269.37 76.33 212.15 76.33 212.15 298.81 288.3 298.81 288.3 288.18 237.62 288.18 237.62 262.41 288.3 262.41 288.3 170.77 313.43 170.77 410.93 170.77 410.93 82.06 313.43 82.06"><title>A002</title></polygon>
					<polygon id="_222" points="410.93 218.91 399 218.91 399 208.26 395.36 208.26 373.61 208.26 316.76 208.26 316.76 295.83 373.61 295.83 395.36 295.83 398 295.83 408.22 295.83 418.56 295.83 418.56 243.92 410.93 243.92 410.93 218.91"><title>222</title></polygon>
					<rect id="BreakRMA007" x="726.29" y="208.26" width="35.22" height="21.79"><title>BreakRMA007</title></rect>
					<rect id="RecordingStudioB017" x="646.6" y="610.57" width="23.39" height="60.36"><title>RecordingStudioB017</title></rect>
					<rect id="_111" x="799.67" y="484.09" width="57.24" height="31.73"><title>111</title></rect>
					<polygon id="B034" points="383.99 298.81 383.99 390.57 340.43 390.57 340.43 427.77 386.67 427.77 386.67 409.54 409.57 409.54 409.57 391.69 418.56 391.69 418.56 298.81 383.99 298.81"><title>B034</title></polygon>
					<polygon id="B011" points="492.23 646.9 492.23 610.57 292.07 610.57 292.07 653.9 268.17 653.9 268.17 670.93 519.11 670.93 519.11 646.9 492.23 646.9"><title>B011</title></polygon>
					<polygon id="B028" points="799.66 596.97 799.66 612.07 778.26 612.07 778.26 670.93 856.91 670.93 856.91 596.97 799.66 596.97"><title>B028</title></polygon>
					<polygon id="A005" points="724.01 232.85 724.01 208.26 492.35 208.26 492.35 265.17 469.57 265.17 469.57 243.92 442.55 243.92 442.55 295.83 761.51 295.83 761.51 232.85 724.01 232.85"><title>A005</title></polygon>
				</g>
			</motion.g>

			{/* Green interactive spots */}
			<motion.g
        id="GreenSpots"
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.5, duration: 0.4 }}
      >
				{nonSelectedSpots.map((id) => {
					const { d, type, title } = dMap[id];
					return renderSpot(id, d, type, latestSpot, title);
				})}
			</motion.g>


      {/* Decorative Elements */}
			<motion.g
        id="Decorations"
        initial={{ opacity: 0, y: 10 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.8, duration: 0.4 }}
      >
				<g id="Decorations" stroke="#545554" fill="none">
					{/* --- Stair 1 --- */}
					<g id="Stair1">
						<rect x="798.81" y="176.98" width="58.39" height="24.26" />
						{[...Array(9)].map((_, i) => (
							<line
								key={`stair1-line-${i}`}
								x1={807.87 + i * 5}
								y1={176.85}
								x2={807.87 + i * 5}
								y2={201.11}
							/>
						))}
						<line x1="807.01" y1="184.46" x2="855.19" y2="184.46" />
						<polygon points="800.02 184.44 807.01 180.95 807.01 187.93 800.02 184.44" />
						<line x1="849.21" y1="195.95" x2="801.02" y2="195.95" />
						<polygon points="856.19 195.93 849.21 192.44 849.21 199.42 856.19 195.93" />
					</g>

					{/* --- Stair 2 --- */}
					<g id="Stair2">
						<rect x="245.5" y="268.09" width="35.69" height="14.83" />
						{[...Array(9)].map((_, i) => (
							<line
								key={`stair2-line-${i}`}
								x1={251.04 + i * 3.05}
								y1={268.01}
								x2={251.04 + i * 3.05}
								y2={282.84}
							/>
						))}
						<line x1="250.51" y1="272.66" x2="279.96" y2="272.66" />
						<polygon points="246.24 272.65 250.51 270.51 250.51 274.78 246.24 272.65" />
						<line x1="276.3" y1="279.68" x2="246.85" y2="279.68" />
						<polygon points="280.57 279.67 276.3 277.53 276.3 281.8 280.57 279.67" />
					</g>

					{/* --- Stair 3 --- */}
					<g id="Stair3">
						<rect
							x="443.1"
							y="376.62"
							width="42.85"
							height="17.81"
							transform="translate(408.05 -215.5) rotate(44.94)"
						/>
						{[...Array(9)].map((_, i) => (
							<line
								key={`stair3-line-${i}`}
								x1={460.43 + i * 2.6}
								y1={368.71 + i * 2.59}
								x2={447.85 + i * 2.6}
								y2={381.32 + i * 2.59}
							/>
						))}
						<line x1="456.03" y1="372.21" x2="481.07" y2="397.2" />
						<polygon points="452.42 368.58 457.85 370.39 454.23 374.02 452.42 368.58" />
						<line x1="472" y1="400.06" x2="446.97" y2="375.08" />
						<polygon points="475.64 403.67 473.82 398.24 470.2 401.87 475.64 403.67" />
					</g>

					{/* --- Stair 4 --- */}
					<g id="Stair4">
						<rect x="801.78" y="489.01" width="52.96" height="22.01" />
						{[...Array(9)].map((_, i) => (
							<line
								key={`stair4-line-${i}`}
								x1={810 + i * 4.53}
								y1={488.89}
								x2={810 + i * 4.53}
								y2={510.89}
							/>
						))}
						<line x1="809.21" y1="495.79" x2="852.92" y2="495.79" />
						<polygon points="802.88 495.77 809.21 492.6 809.21 498.93 802.88 495.77" />
						<line x1="847.49" y1="506.21" x2="803.79" y2="506.21" />
						<polygon points="853.82 506.19 847.49 503.02 847.49 509.36 853.82 506.19" />
					</g>

					{/* --- Elevator 1 --- */}
					<g id="Elevator1">
						<path d="M803.02,213.05c0-.09,0-.15,0-.22,0-.5,0-1.01,0-1.51,0-.25.09-.35.3-.35,2.6,0,5.21,0,7.81,0,.23,0,.31.09.31.36,0,.56,0,1.13,0,1.72.08,0,.14,0,.21,0,2.73,0,5.46,0,8.18,0,.32,0,.37.06.37.42,0,7.08,0,14.15,0,21.23,0,.36-.06.43-.37.43-6.25,0-12.49,0-18.74,0-.65,0-1.3,0-1.95,0-.27,0-.34-.07-.34-.37,0-7.11,0-14.22,0-21.34,0-.29.06-.37.32-.37,1.21,0,2.42,0,3.62,0,.07,0,.15,0,.25,0Z" />
						<path d="M800.53,234.6v-.31c0-6.25,0-12.5,0-18.76,0-.09,0-.18,0-.27,0-.16.08-.26.23-.27.09,0,.17,0,.26,0,4.15,0,8.29,0,12.44,0,.46,0,.47,0,.47.53,0,6.28,0,12.55,0,18.83q0,.27.25.27c1.78,0,3.56,0,5.33,0q.26,0,.26-.28c0-6.85,0-13.69,0-20.54q0-.24-.21-.24c-2.87,0-5.75,0-8.62,0-3.81,0-7.63,0-11.44,0-.07,0-.15,0-.23,0v21.04h1.26Z" />
						<path d="M800.99,215.49c0,.1,0,.16,0,.23,0,6.21,0,12.43,0,18.64,0,.25,0,.25.23.25,1.85,0,3.7,0,5.56,0,.23,0,.23,0,.23-.27,0-6.21,0-12.42,0-18.62,0-.18-.03-.24-.2-.24-1.87,0-3.75,0-5.62,0-.06,0-.12,0-.19,0Z" />
						<path d="M807.45,234.6c.1,0,.17.02.25.02,1.85,0,3.7,0,5.56,0,.22,0,.22,0,.22-.25,0-6.21,0-12.43,0-18.64,0-.19-.05-.23-.21-.23-1.87,0-3.74,0-5.61,0-.22,0-.22,0-.22.25,0,6.21,0,12.42,0,18.63,0,.07,0,.14,0,.23Z" />
						<path d="M803.48,213.03h7.49v-1.53h-7.49v1.53Z" />
						<path d="M816.84,223.71c-.45,0-.89,0-1.34,0-.12,0-.24-.02-.29-.17-.05-.14.02-.24.1-.33.43-.49.86-.98,1.3-1.46.18-.2.27-.2.46,0,.44.49.87.98,1.31,1.47.08.09.14.18.09.32-.05.13-.15.16-.26.16-.46,0-.91,0-1.37,0Z" />
						<path d="M816.86,222.26c-.28.31-.56.62-.83.91h1.63c-.28-.32-.56-.63-.8-.91Z" />
						<path d="M816.84,225.55c.45,0,.9,0,1.35,0,.11,0,.24.02.26.15.02.1-.02.25-.08.32-.44.51-.89,1.02-1.34,1.52-.14.16-.26.16-.4,0-.45-.5-.89-1-1.33-1.5-.08-.09-.15-.18-.09-.32.06-.14.16-.17.28-.16.45,0,.9,0,1.35,0Z" />
						<path d="M816.85,226.99c.26-.29.53-.6.81-.92h-1.63c.28.31.55.62.82.92Z" />
					</g>

					{/* --- Bathroom --- */}
					<g id="Bathroom">
						<path d="M393.41,356.12c-.52,0-1.01,0-1.5,0-1.69-.02-3.19-1.49-3.25-3.17-.02-.57.1-.7.65-.7.8,0,1.59,0,2.39,0,.02,0,.05-.01.15-.04-1.96-1.37-3.1-3.19-3.18-5.58-.08-2.39.85-4.32,2.73-5.77,2.67-2.06,6.61-1.69,8.91.83,1.43,1.57,2.02,3.44,1.75,5.56-.27,2.12-1.36,3.73-3.06,4.99.73,0,1.46.02,2.19,0,.92-.04,1.06.15.87,1.12-.33,1.67-1.67,2.76-3.35,2.77-.44,0-.89,0-1.36,0,.1,1.18.2,2.31.3,3.44.13,1.48.27,2.97.4,4.45.05.53.11,1.07.14,1.61.01.24.1.31.33.31.94-.01,1.88,0,2.82,0,1.46,0,2.92,0,4.38,0,.12,0,.24-.01.37-.02.23-1.4.44-2.79.68-4.17.05-.28-.14-.3-.28-.39-1.52-.93-2.36-2.3-2.39-4.09-.01-.54.07-1.08,0-1.64-.08-.67.4-1.17,1.18-1.43-.2-.3-.41-.6-.6-.9-.41-.66-.59-1.38-.6-2.16,0-1.08,0-2.15,0-3.23,0-.92.58-1.52,1.48-1.52,2.23,0,4.46,0,6.69,0,.82,0,1.42.59,1.43,1.43.01,1.11,0,2.22,0,3.34,0,1.07-.37,2-1.04,2.82-.05.06-.1.13-.15.2.23.12.45.2.64.34.52.39.68,1.07.45,1.71-.04.11-.1.25-.06.33.3.57.16,1.15.03,1.71-.32,1.36-1.1,2.4-2.3,3.09-.22.12-.28.25-.24.49.21,1.24.43,2.47.62,3.72.05.31.17.37.44.36.65-.01,1.3-.02,1.95,0,.18,0,.4.07.52.19.25.24.09.66-.25.74-.12.03-.24.02-.36.02-8.46,0-16.92,0-25.38,0-.16,0-.34.04-.46-.03-.16-.09-.34-.24-.38-.41-.06-.22.07-.43.33-.48.14-.03.29-.04.43-.04,1.24,0,2.48,0,3.72,0,.26,0,.37-.06.39-.35.24-2.85.51-5.69.77-8.54.03-.28.04-.56.06-.91Z" />
						<path d="M394.9,352.17c0-.17,0-.32,0-.48.01-.96-.02-1.93.05-2.89.06-.88.86-1.5,1.74-1.45.84.04,1.53.77,1.57,1.63,0,.23,0,.46,0,.7,0,.36-.18.58-.46.58-.29,0-.45-.2-.47-.57,0-.28,0-.57-.05-.84-.07-.34-.4-.57-.72-.55-.34.02-.64.28-.69.64-.02.12-.03.24-.03.37,0,.86,0,1.71,0,2.57,0,.1.02.21.03.35.22-.05.48.09.47-.3-.01-.31.07-.6.45-.63.37-.03.46.24.51.54,0,.02.03.04.04.05,2.26-.74,4.28-3.35,3.74-6.51-.48-2.87-3.05-5.05-6.16-4.87-2.7.16-5.09,2.47-5.34,5.35-.28,3.16,1.89,5.45,3.83,6.02.06-.29.13-.6.51-.58.59.03.38.57.52.9h.44Z" />
						<path d="M408.88,347.32c-1.06,0-2.12,0-3.18,0-.53,0-.69.16-.69.69,0,.9.03,1.81,0,2.71-.07,1.39.51,2.45,1.52,3.31.1.09.26.14.39.14,1.14,0,2.29-.03,3.43.02.59.03.98-.17,1.37-.59.69-.75,1.07-1.6,1.06-2.63-.01-1,0-2,0-3,0-.47-.17-.64-.62-.64-1.08,0-2.17,0-3.25,0Z" />
						<path d="M394.36,356.14c-.29,3.27-.58,6.51-.87,9.74h3.79c-.29-3.26-.58-6.49-.88-9.74h-2.04Z" />
						<path d="M412.76,357.15c-.08-.03-.11-.05-.13-.05-2.46,0-4.91,0-7.37-.01-.25,0-.26.12-.25.33.25,2.88,3.3,4.53,5.78,3.1,1.27-.73,1.89-1.89,1.96-3.37Z" />
						<path d="M389.64,353.21c.05.16.07.31.13.43.46,1.04,1.26,1.53,2.37,1.54,1.58,0,3.15.02,4.73.01.79,0,1.59.01,2.38-.08.95-.11,1.78-1.02,1.85-1.9h-11.45Z" />
						<path d="M410.73,365.89c-.22-1.36-.44-2.69-.65-3.96h-2.4c-.21,1.28-.43,2.61-.65,3.96h3.7Z" />
						<path d="M408.9,356.15c.52,0,1.04,0,1.55,0,.6,0,1.2,0,1.81,0,.3,0,.47-.18.49-.48.01-.28-.14-.46-.42-.5-.14-.02-.29-.03-.43-.03-.85,0-1.71,0-2.56,0-1.21,0-2.43,0-3.64,0-.44,0-.69.2-.69.53,0,.3.26.49.68.49,1.07,0,2.14,0,3.21,0Z" />
					</g>
				</g>
			</motion.g>


							{/* --- Dashed Navigation Paths --- */}
			<motion.g
        id="SMFA_B_Path"
        stroke="#545554"
        strokeWidth={1}
        strokeDasharray="10 6"
				fill="none"
        opacity={0.65}
        initial={{ strokeDashoffset: 80, opacity: 0 }}
				animate={{ strokeDashoffset: 0, opacity: 1 }}
				transition={{ delay: 1.2, duration: 1.2, ease: 'easeInOut' }}
      >
				<g>
					<line x1="302.05" y1="288.18" x2="302.05" y2="282.18" />
					<line x1="302.05" y1="269.77" x2="302.05" y2="201.53" />
					<polyline points="302.05 195.33 302.05 189.33 308.05 189.33" />
					<line x1="321.04" y1="189.33" x2="418.48" y2="189.33" />
					<polyline points="424.97 189.33 430.97 189.33 430.97 195.33" />
					<polyline points="430.97 207.27 430.97 366.89 430.97 488.04" />
					<polyline points="430.97 494.01 430.97 500.01 424.97 500.01" />
					<line x1="412.34" y1="500.01" x2="292.28" y2="500.01" />
					<polyline points="285.96 500.01 279.96 500.01 279.96 506.01" />
					<line x1="279.96" y1="518.14" x2="279.96" y2="633.36" />
					<line x1="279.96" y1="639.42" x2="279.96" y2="645.42" />
				</g>
				<g>
					<line x1="430.97" y1="189.33" x2="436.97" y2="189.33" />
					<line x1="449.38" y1="189.33" x2="765.73" y2="189.33" />
					<polyline points="771.94 189.33 777.94 189.33 777.94 183.33" />
					<line x1="777.94" y1="167.24" x2="777.94" y2="161.24" />
				</g>
				<g>
					<line x1="777.94" y1="189.33" x2="777.94" y2="195.33" />
					<line x1="777.94" y1="207.43" x2="777.94" y2="273.99" />
					<line x1="777.94" y1="280.04" x2="777.94" y2="286.04" />
				</g>
				<g>
					<line x1="430.97" y1="500.01" x2="436.97" y2="500.01" />
					<line x1="448.49" y1="500.01" x2="534.89" y2="500.01" />
					<polyline points="540.65 500.01 546.65 500.01 546.65 506.01" />
					<line x1="546.65" y1="518.65" x2="546.65" y2="588.19" />
					<polyline points="546.65 594.51 546.65 600.51 540.65 600.51" />
					<line x1="528.52" y1="600.51" x2="292.02" y2="600.51" />
					<line x1="285.96" y1="600.51" x2="279.96" y2="600.51" />
				</g>
				<g>
					<line x1="546.65" y1="600.51" x2="552.65" y2="600.51" />
					<line x1="563.88" y1="600.51" x2="648.12" y2="600.51" />
					<polyline points="653.73 600.51 659.73 600.51 659.73 594.51" />
					<line x1="659.73" y1="581.87" x2="659.73" y2="512.33" />
					<polyline points="659.73 506.01 659.73 500.01 653.73 500.01" />
					<line x1="642.5" y1="500.01" x2="558.27" y2="500.01" />
					<line x1="552.65" y1="500.01" x2="546.65" y2="500.01" />
				</g>
				<g>
					<line x1="787.18" y1="600.51" x2="787.18" y2="594.51" />
					<line x1="787.18" y1="581.87" x2="787.18" y2="512.33" />
					<polyline points="787.18 506.01 787.18 500.01 781.18 500.01" />
					<line x1="768.36" y1="500.01" x2="672.15" y2="500.01" />
					<line x1="665.73" y1="500.01" x2="659.73" y2="500.01" />
				</g>
			</motion.g>

			{latestSpot && dMap[latestSpot] && (() => {
				const { d, type, title } = dMap[latestSpot];
				return renderSpot(latestSpot, d, type, latestSpot, title);
			})()}
    </>
  );
}
