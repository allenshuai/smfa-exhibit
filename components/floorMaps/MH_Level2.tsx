'use client';

import { motion } from 'framer-motion';
import React from "react";
import { SpotType } from '../data/allSpots'; 

interface MH_Level1Props {
  renderSpot: (
    id: string,
    d: string,
    latestSpot: string | undefined
  ) => React.JSX.Element;
  latestSpot: string | undefined;
}

export default function MH_Level1({
  renderSpot,
  latestSpot,
}: MH_Level1Props) {
  const dMap: Record<string, string> = {
    C208: 'M774.04 586.75L774.04 466.57L923.58 466.57L940.54 586.81L774.04 586.75Z',
    C200C3: 'M609.95 272.91h28.24v109.48h-28.24z',
    C200C4: 'M609.95 386.83h28.24v91.14h-28.24z',
    C200C5: 'M609.95 483.43h28.24v102.93h-28.24z',
	C200C6: 'M319.06 591.51h621.98v28.09h-621.98z',
    C200C7:
      'M300.76,150.85v181.52h-75.36l-19.92,338.02l43.16-.3v-50.5h68.81V149.13l-16.69,1.72ZM300.39,608.76h-59.01v-251.73h59.01v251.73Z',
    C200C2:
      'M638.2 253.33L638.2 226.24L638.2 220.85L638.2 210.91L320.74 210.91L320.74 226.24L609.95 226.24L609.95 270.56L621.85 270.56L638.2 270.56L833.62 270.56L833.62 253.33L638.2 253.33Z',
    C200C1:
      'M944.88 586.66L944.88 619.59L984.07 619.59L927.89 210.91L836.15 211.15L836.15 270.56L885.84 270.56L885.84 327.14L925.84 327.14L925.84 452.97L944.88 586.66Z',
  };

  const nonSelectedSpots = Object.keys(dMap).filter(
    (id) => id !== latestSpot
  );

  return (
    <>
      {/* Base boundary */}
      <polygon
        id="Base"
        points="918.64 99.73 229.12 147.49 198.46 673.51 997.48 672.67 918.64 99.73"
        fill="none"
        stroke="#c2c1c0"
			/>

      {/* Gray rooms */}
      <motion.g
        id="GrayRooms"
        initial={{ opacity: 0, scale: 0.98 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.2, duration: 0.4 }}
      >
        <g id="MH_F2_Gray" fill="#c2c1c0">
					<rect id="Studios2" x="319.06" y="228.85" width="288.24" height="82.74" />
					<rect id="Studios3" x="319.06" y="334.81" width="288.24" height="88.86" />
					<rect id="Studiso4" x="319.06" y="442.06" width="288.24" height="81.21" />
					<rect id="studios8" x="640.72" y="334.81" width="127.08" height="88.86" />
					<rect id="studios7" x="640.72" y="272.91" width="241.86" height="38.36" />
					<rect id="Studios" x="246.1" y="358.75" width="49.68" height="247.62" />
					<rect id="studios6" x="250.9" y="623.29" width="650.04" height="45.78" />
					<polygon id="C200" points="462.04 136.15 791.62 112.81 791.62 206.05 462.7 206.05 462.04 136.15" />
					<polygon id="C202" points="795.76 112.81 867.04 107.83 867.04 206.05 797.38 206.05 795.76 112.81" />
					<polygon id="C200S1" points="875.44 109.87 911.92 106.81 925.6 206.65 875.44 206.65 875.44 109.87" />
					<rect id="c206" x="797.68" y="210.91" width="35.94" height="40.08" />
					<polygon id="C203" points="237.28 170.23 228.22 321.31 295.78 321.31 295.78 170.23 237.28 170.23" />
					<rect id="c207" x="774.04" y="436.96" width="70.56" height="27.08" />
					<rect id="c204" x="774.04" y="382.22" width="84.06" height="53.2" />
					<rect id="C205" x="860.38" y="382.22" width="61.43" height="59.75" />
					<rect id="wall2" x="858.1" y="458.93" width="60.3" height="4.41" />
					<polygon id="C200E1" points="350.87 143.96 376.78 141.97 376.78 172.39 350.87 172.39 350.87 143.96" />
					<rect id="studios5" x="319.06" y="542.47" width="288.24" height="44.34" />
					<rect id="studios10" x="640.72" y="517.23" width="74.88" height="69.58" />
					<rect id="wall1" x="843.58" y="334.98" width="64.08" height="3.3" />
					<polygon id="studios9" points="640.72 442.06 640.72 511.48 722.59 511.48 722.59 586.81 767.8 586.81 767.8 511.48 767.8 482.66 767.8 442.06 640.72 442.06" />
					<rect id="C201" x="640.72" y="210.91" width="150.9" height="39.9" />
					<rect id="kitchen" x="843.58" y="358.85" width="64.08" height="21.6" />
				</g>
      </motion.g>

      {/* Green interactive spots */}
      <motion.g
        id="GreenSpots"
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.5, duration: 0.4 }}
      >
        {nonSelectedSpots.map((id) => renderSpot(id, dMap[id], latestSpot))}
      </motion.g>

      {/* Decorative Elements */}
      <motion.g
        id="Decorations"
        initial={{ opacity: 0, y: 10 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.8, duration: 0.4 }}
      >
        <g id="MH_F2_Decorations" stroke="#545554" fill="none">
          
					{/* Bathroom */}
					<path
						id="bathroom2"
						className="cls-23"
						d="M884.56,411.85c-.54,0-1.06,0-1.57,0-1.77-.03-3.34-1.56-3.41-3.33-.02-.6.1-.74.68-.74.83,0,1.67,0,2.5,0,.02,0,.05-.01.15-.04-2.05-1.43-3.25-3.34-3.33-5.85-.09-2.51.89-4.53,2.86-6.05,2.8-2.16,6.94-1.77,9.34.87,1.5,1.65,2.12,3.61,1.84,5.84-.28,2.22-1.43,3.91-3.21,5.24.76,0,1.53.02,2.29,0,.97-.04,1.12.16.91,1.17-.35,1.75-1.75,2.89-3.51,2.9-.46,0-.93,0-1.42,0,.11,1.24.21,2.42.31,3.6.14,1.56.28,3.11.42,4.67.05.56.11,1.12.14,1.68.01.25.1.33.34.32.99-.01,1.97,0,2.96,0,1.53,0,3.06,0,4.59,0,.12,0,.25-.01.39-.02.24-1.47.46-2.92.72-4.37.05-.29-.14-.32-.29-.41-1.59-.98-2.47-2.41-2.51-4.29-.01-.57.07-1.13,0-1.72-.08-.7.42-1.23,1.24-1.49-.21-.32-.43-.62-.63-.95-.43-.69-.62-1.45-.62-2.26,0-1.13,0-2.26,0-3.38,0-.97.61-1.59,1.56-1.6,2.34,0,4.68,0,7.02,0,.86,0,1.49.62,1.5,1.49.01,1.17,0,2.33,0,3.5,0,1.12-.39,2.1-1.09,2.96-.05.07-.1.14-.16.21.24.12.47.21.67.36.54.4.72,1.12.47,1.79-.04.11-.11.26-.06.35.31.6.17,1.21.03,1.8-.34,1.43-1.15,2.52-2.41,3.25-.23.13-.3.27-.25.52.22,1.3.46,2.59.65,3.9.05.33.18.39.46.38.68-.02,1.37-.02,2.05,0,.19,0,.42.07.54.2.26.25.1.69-.26.77-.12.03-.25.02-.38.02-8.87,0-17.75,0-26.62,0-.16,0-.36.04-.49-.03-.17-.09-.35-.26-.4-.43-.06-.23.07-.45.35-.5.15-.03.3-.04.45-.04,1.3,0,2.6,0,3.91,0,.28,0,.39-.06.41-.37.26-2.98.53-5.97.8-8.95.03-.29.04-.59.06-.95ZM886.13,407.7c0-.18,0-.34,0-.5.01-1.01-.02-2.03.06-3.03.07-.93.9-1.57,1.82-1.52.88.05,1.61.8,1.64,1.71,0,.24,0,.49,0,.73,0,.38-.19.6-.49.61-.3,0-.48-.21-.49-.6,0-.29,0-.59-.05-.88-.07-.35-.42-.6-.75-.58-.36.02-.67.3-.73.67-.02.13-.03.26-.03.38,0,.9,0,1.79,0,2.69,0,.11.02.22.04.36.23-.05.51.09.49-.32-.01-.33.07-.63.47-.66.39-.03.48.25.53.56,0,.02.03.04.05.05,2.37-.77,4.48-3.51,3.93-6.83-.51-3.01-3.2-5.3-6.46-5.11-2.83.17-5.34,2.59-5.6,5.61-.29,3.31,1.98,5.72,4.01,6.32.06-.31.14-.63.54-.61.62.03.4.6.55.94h.46ZM900.78,402.62c-1.11,0-2.22,0-3.33,0-.56,0-.73.17-.73.73,0,.95.04,1.9,0,2.84-.07,1.45.54,2.56,1.59,3.47.1.09.27.15.4.15,1.2.01,2.4-.03,3.59.02.61.03,1.03-.17,1.44-.62.72-.79,1.12-1.68,1.11-2.76-.01-1.05,0-2.1,0-3.15,0-.49-.18-.67-.65-.68-1.14,0-2.27,0-3.41,0ZM885.56,411.87c-.31,3.43-.61,6.82-.91,10.22h3.97c-.31-3.42-.61-6.81-.92-10.22h-2.14ZM904.86,412.92c-.09-.03-.11-.05-.13-.05-2.58,0-5.15,0-7.73-.01-.26,0-.28.13-.26.34.26,3.02,3.46,4.76,6.06,3.25,1.33-.77,1.99-1.98,2.06-3.53ZM880.6,408.79c.05.17.08.32.13.45.48,1.09,1.32,1.61,2.48,1.61,1.65.01,3.31.02,4.96.01.83,0,1.67.01,2.49-.09.99-.12,1.87-1.07,1.94-1.99h-12.01ZM902.73,422.09c-.23-1.43-.46-2.82-.68-4.16h-2.52c-.22,1.35-.45,2.74-.68,4.16h3.88ZM900.81,411.87c.54,0,1.09,0,1.63,0,.63,0,1.26,0,1.89,0,.31,0,.5-.19.51-.5.02-.3-.15-.48-.44-.53-.15-.02-.3-.03-.45-.03-.89,0-1.79,0-2.68,0-1.27,0-2.54,0-3.82,0-.46,0-.73.21-.72.55,0,.32.27.51.71.51,1.12,0,2.25,0,3.37,0Z"
					/>

					{/* Stair 1 */}
					<g id="Stair1">
						<rect
							className="cls-5"
							x="861.04"
							y="150.66"
							width="68.39"
							height="28.42"
							transform="translate(1060.1 -730.37) rotate(90)"
						/>
						<g>
							{[141.28, 147.14, 152.99, 158.85, 164.71, 170.56, 176.42, 182.28, 188.13].map((y) => (
								<line
									key={y}
									className="cls-3"
									x1={909.6}
									y1={y}
									x2={881.18}
									y2={y}
								/>
							))}
						</g>
						<g>
							<line className="cls-4" x1="900.69" y1="140.27" x2="900.69" y2="196.71" />
							<polygon
								className="cls-9"
								points="900.71 132.09 904.8 140.27 896.62 140.27 900.71 132.09"
							/>
							<line className="cls-4" x1="887.23" y1="189.7" x2="887.23" y2="133.26" />
							<polygon
								className="cls-9"
								points="887.25 197.88 891.34 189.7 883.16 189.7 887.25 197.88"
							/>
						</g>
					</g>
						
					<g id="micro" stroke-width="0.8">
						<path className="cls-23" d="M868.2,378.07c0,.19,0,.36-.03.52-.05.39-.29.63-.68.64-.71.01-1.43.01-2.14,0-.4,0-.66-.29-.68-.7,0-.15,0-.3,0-.48-.33,0-.62,0-.91,0-.87,0-1.38-.52-1.38-1.39,0-4.66,0-9.32,0-13.99,0-.88.52-1.4,1.41-1.4,7.42,0,14.85,0,22.27,0,.84,0,1.37.53,1.37,1.38,0,4.67,0,9.34,0,14.01,0,.86-.52,1.38-1.39,1.39-.29,0-.59,0-.91,0,0,.18,0,.33,0,.48-.03.43-.29.69-.72.7-.7,0-1.39,0-2.09,0-.42,0-.68-.26-.71-.67-.01-.16,0-.32,0-.49h-13.42Z" />
						<path className="cls-23" d="M874.93,361.89h0c-3.7,0-7.4,0-11.1,0-.63,0-.86.23-.86.86,0,4.62,0,9.23,0,13.85,0,.63.24.87.86.87,7.39,0,14.78,0,22.16,0,.58,0,.83-.25.83-.84,0-4.62,0-9.25,0-13.87,0-.63-.23-.86-.86-.86-3.68,0-7.36,0-11.04,0Z" />
						<path className="cls-23" d="M865.3,378.61c.11,0,.2.02.29.02.51,0,1.03,0,1.54,0q.49,0,.44-.49s-.02-.03-.03-.07h-2.24v.54Z" />
						<path className="cls-23" d="M882.24,378.06c0,.09,0,.15-.01.2-.05.29.06.38.35.37.49-.02.99,0,1.48,0q.49,0,.45-.5s-.02-.03-.04-.05h-2.23Z" />
						<path className="cls-23" d="M873.02,375.97c-2.42,0-4.84,0-7.26,0-.78,0-1.2-.42-1.2-1.2,0-3.4,0-6.81,0-10.21,0-.72.44-1.16,1.15-1.16,4.89,0,9.78,0,14.67,0,.69,0,1.14.45,1.15,1.15,0,3.41,0,6.83,0,10.24,0,.76-.43,1.19-1.19,1.19-2.44,0-4.88,0-7.32,0Z" />
						<path className="cls-23" d="M873.05,375.37c2.41,0,4.82,0,7.24,0,.5,0,.63-.13.63-.62,0-3.35,0-6.69,0-10.04,0-.59-.11-.69-.71-.69-4.8,0-9.59,0-14.39,0-.54,0-.66.12-.66.65,0,3.35,0,6.69,0,10.04,0,.55.11.66.67.66,2.4,0,4.8,0,7.21,0Z" />
						<path className="cls-23" d="M884.16,375.77c-.4,0-.8,0-1.2,0-.42,0-.61-.2-.61-.62,0-.47,0-.93,0-1.4,0-.39.21-.61.6-.61.81,0,1.62,0,2.43,0,.38,0,.57.21.58.6,0,.48,0,.95,0,1.43,0,.4-.19.6-.6.61-.4,0-.8,0-1.2,0h0Z" />
						<path className="cls-23" d="M882.98,373.76v1.39h2.38v-1.39h-2.38Z" />
						<path className="cls-23" d="M884.18,370.43c-.83,0-1.49-.64-1.5-1.47,0-.82.66-1.5,1.48-1.5.8,0,1.49.69,1.49,1.49,0,.8-.67,1.47-1.47,1.48Z" />
						<path className="cls-23" d="M885.03,368.96c0-.5-.38-.88-.88-.88-.48,0-.87.39-.87.87,0,.49.4.89.89.89.48,0,.87-.39.87-.87Z" />
						<path className="cls-23" d="M884.17,366.65c-.82,0-1.48-.65-1.49-1.46,0-.83.64-1.5,1.47-1.51.81-.01,1.5.68,1.5,1.49,0,.81-.67,1.47-1.48,1.48Z" />
						<path className="cls-23" d="M884.16,364.3c-.49,0-.89.4-.88.89,0,.47.4.87.88.87.47,0,.87-.39.88-.87,0-.5-.37-.89-.87-.89Z" />
						<path className="cls-23" d="M867.3,366.88c.13.09.23.16.32.23,1.25,1.04,2.65,1.38,4.21.89.39-.12.74-.34,1.11-.52,1.02-.51,2.07-.91,3.24-.9.93.01,1.72.39,2.46.88.09.06.14.27.11.38-.05.17-.23.22-.4.12-.08-.04-.15-.08-.22-.13-1.15-.79-2.39-.83-3.65-.36-.65.24-1.27.56-1.89.86-1.77.85-4,.51-5.41-.85-.09-.09-.13-.26-.12-.4,0-.07.15-.14.25-.23Z" />
						<path className="cls-23" d="M867.31,368.77c.14.11.24.18.34.26,1.23,1.02,2.62,1.35,4.16.87.39-.12.75-.33,1.11-.51.99-.5,2.01-.9,3.15-.91.96,0,1.78.36,2.56.86.16.1.22.24.12.41-.1.17-.25.19-.42.1-.07-.04-.14-.07-.2-.11-1.21-.83-2.5-.83-3.81-.32-.59.23-1.16.53-1.73.81-1.77.86-4,.52-5.42-.84-.09-.09-.14-.26-.14-.39,0-.08.16-.15.27-.25Z" />
						<path className="cls-23" d="M870.51,372.61c-1.28-.02-2.4-.46-3.35-1.32-.15-.14-.23-.3-.08-.47.15-.17.32-.13.47.02.01.01.03.02.04.04.72.65,1.57,1.02,2.54,1.11.9.09,1.74-.13,2.52-.57.79-.44,1.62-.8,2.52-.97,1.27-.25,2.41.06,3.46.79.16.11.22.27.09.41-.08.08-.26.11-.39.1-.1,0-.2-.1-.3-.16-1.07-.71-2.21-.78-3.39-.37-.58.2-1.15.46-1.7.74-.78.4-1.57.67-2.46.66Z" />
					</g>

        </g>
      </motion.g>

      {/* Optional: navigation paths */}
      <motion.g
        id="Level2_Path"
        stroke="#6c584c"
				fill="none"
        strokeWidth={1}
        strokeDasharray="10 6"
        opacity={0.65}
        initial={{ strokeDashoffset: 80, opacity: 0 }}
        animate={{ strokeDashoffset: 0, opacity: 1 }}
        transition={{ delay: 1.2, duration: 1.2, ease: 'easeInOut' }}
      >
        <g>
					<line x1="900.52" y1="202.97" x2="901.43" y2="208.9" />
					<polyline points="903.23 220.74 938.19 450.51 959.99 593.7" />
					<polyline points="960.89 599.62 961.79 605.55 955.79 605.55" />
					<line x1="943.69" y1="605.55" x2="320.56" y2="605.55" />
					<polyline points="314.51 605.55 308.51 605.55 308.51 614.05 302.51 614.05" />
					<line x1="291.77" y1="614.05" x2="232.69" y2="614.05" />
					<polyline points="227.31 614.05 221.31 614.05 221.61 608.05" />
					<line x1="222.21" y1="595.7" x2="233.93" y2="354.73" />
					<polyline points="234.23 348.55 234.53 342.56 240.53 342.56" />
					<line x1="252.92" y1="342.56" x2="296.31" y2="342.56" />
					<polyline points="302.51 342.56 308.51 342.56 308.51 336.56" />
					<line x1="308.51" y1="325.15" x2="308.51" y2="171.13" />
					<line x1="308.51" y1="165.43" x2="308.51" y2="159.43" />
				</g>
				<g>
					<line x1="308.51" y1="219.7" x2="314.51" y2="219.7" />
					<line x1="326.65" y1="219.7" x2="612.01" y2="219.7" />
					<polyline points="618.08 219.7 624.08 219.7 624.08 225.7" />
					<line x1="624.08" y1="235.57" x2="624.08" y2="250.38" />
					<polyline points="624.08 255.31 624.08 261.31 630.08 261.31" />
					<line x1="641.96" y1="261.31" x2="897.46" y2="261.31" />
					<line x1="903.4" y1="261.31" x2="909.4" y2="261.31" />
				</g>
				<g>
					<line x1="624.08" y1="261.31" x2="624.08" y2="267.31" />
					<line x1="624.08" y1="279.65" x2="624.08" y2="594.2" />
					<line x1="624.08" y1="600.37" x2="624.08" y2="606.37" />
				</g>
				<g>
					<line x1="308.51" y1="342.56" x2="308.51" y2="348.56" />
					<line x1="308.51" y1="360.92" x2="308.51" y2="601.87" />
					<line x1="308.51" y1="608.05" x2="308.51" y2="614.05" />
				</g>
				<g>
					<line x1="308.51" y1="323.93" x2="314.51" y2="323.93" />
					<line x1="326.72" y1="323.93" x2="906.83" y2="323.93" />
					<line x1="912.93" y1="323.93" x2="918.93" y2="323.93" />
				</g>
				<g>
					<line x1="806.01" y1="323.93" x2="806.01" y2="329.93" />
					<polyline points="806.01 342.37 806.01 348.37 812.01 348.37" />
					<line x1="823.64" y1="348.37" x2="910.84" y2="348.37" />
					<line x1="916.65" y1="348.37" x2="922.65" y2="348.37" />
				</g>
				<g>
					<line x1="308.51" y1="432.4" x2="314.51" y2="432.4" />
					<line x1="326.43" y1="432.4" x2="749.69" y2="432.4" />
					<line x1="755.65" y1="432.4" x2="761.65" y2="432.4" />
				</g>
				<g>
					<line x1="308.51" y1="534.89" x2="314.51" y2="534.89" />
					<line x1="326.65" y1="534.89" x2="612.01" y2="534.89" />
					<line x1="618.08" y1="534.89" x2="624.08" y2="534.89" />
				</g>
				<g>
					<line x1="949.27" y1="523.27" x2="943.27" y2="523.27" />
					<line x1="936.98" y1="523.27" x2="927.55" y2="523.27" />
					<line x1="924.4" y1="523.27" x2="918.4" y2="523.27" />
				</g>
				<line x1="860.38" y1="450.51" x2="938.19" y2="450.51" />
      </motion.g>

      {/* Selected spot (if any) rendered last */}
      {latestSpot &&
        renderSpot(latestSpot, dMap[latestSpot], latestSpot)}
    </>
  );
}
