'use client';

import { motion } from 'framer-motion';

interface SMFA_Level1Props {
  renderSpot: (
    id: string,
    d: string,
    latestSpot: string | undefined
  ) => JSX.Element;
  latestSpot: string | undefined;
}

export default function SMFA_Level1({
  renderSpot,
  latestSpot,
}: SMFA_Level1Props) {
  const dMap: Record<string, string> = {
    CorridorB100C1: 'M288.32 522.79h146.86v35.63H288.32z',
    CorridorB100C2: 'M648.19 522.79h149.43v35.63H648.19z',
    CorridorA100C3: 'M163.18 185.32h150.14v26.96H163.18z',
    CorridorA100C2: 'M321.79 185.32h365.74v26.96H321.79z',
    CorridorA100C5: 'M695.17 185.12h103.26v26.96H695.17z',
    CorridorA100C1: 'M280.33 291.08h99.28v22.79H280.33z',
    AtriumA100: 'M416.59 360.12L486.87 430.4H519.3V360.12H416.59Z',
    B101: 'M282.16 705.86V522.79H163.18V728.03H271.74H282.16H338.23V705.86H282.16Z',
    B105: 'M387.47 598.38V705.86H343.96V728.03H642.74V598.38H387.47Z',
  };

  const nonSelectedSpots = Object.keys(dMap).filter(
    (id) => id !== latestSpot
  );

	return (
    <>
      {/* Base boundary */}
      <path
        d="M756.87,325.95v93.77h146.73v-95.47h-26.19V73.24h-120.54v6.6h-478.06v-6.6h-120.54v252.71h120.54v-6.01h68.89v197.73h-189.44v217.39h718.82v-217.39h-281.64v-197.73h161.42v6.01Z"
        fill="none"
        stroke="#c2c1c0"
      />

      {/* Gray rooms */}
			<motion.g
        id="GrayRooms"
        initial={{ opacity: 0, scale: 0.98 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.2, duration: 0.4 }}
      >
        {/* Insert your gray room paths or rects here */}
				<g id="SMFA_F1_Gray" fill="#c2c1c0">
					<rect id="OfficeArea" x="163.18" y="77.58" width="109.86" height="102.78"><title>OfficeArea</title></rect>
					<rect id="A105" x="280.33" y="216.81" width="99.28" height="68.06"><title>A105</title></rect>
					<rect id="A111" x="627.44" y="216.81" width="129.42" height="97.06"><title>A111</title></rect>
					<rect id="A108" x="762.26" y="77.58" width="111.02" height="102.78"><title>A108</title></rect>
					<rect id="none" x="280.33" y="85.22" width="213.5" height="95.15"><title>none</title></rect>
					<rect id="A104" x="501.16" y="85.22" width="255.71" height="95.15"><title>A104</title></rect>
					<rect id="Office3" x="288.32" y="563.96" width="91.29" height="137.58"><title>Office3</title></rect>
					<polygon id="OfficeArea-2" points="163.18 216.81 163.18 320.54 187.35 320.54 187.35 278.49 274.53 278.49 274.53 216.81 163.18 216.81"><title>OfficeArea</title></polygon>
					<rect id="Stair2" x="192.58" y="282.45" width="81.95" height="38.09"><title>Stair2</title></rect>
					<rect id="Stair1" x="803.97" y="185.32" width="69.3" height="26.96"><title>Stair1</title></rect>
					<polygon id="A111D" points="842.76 216.81 842.76 250.84 762.26 250.84 762.26 313.87 873.28 313.87 873.28 216.81 842.76 216.81"><title>A111D</title></polygon>
					<rect id="Elevtor1" x="803.97" y="216.81" width="36.14" height="31.37"><title>Elevtor1</title></rect>
					<rect id="Stair3" x="801.73" y="522.79" width="68.69" height="35.63"><title>Stair3</title></rect>
					<polygon id="B115" points="751.07 563.96 751.07 654.78 780.8 654.78 780.8 728.03 870.42 728.03 870.42 563.96 751.07 563.96"><title>B115</title></polygon>
					<polygon id="B113" points="746.45 658.08 746.45 563.96 648.19 563.96 648.19 728.03 732.98 728.03 746.45 728.03 776.18 728.03 776.18 658.08 746.45 658.08"><title>B113</title></polygon>
					<rect id="B109" x="584.7" y="563.96" width="58.05" height="27.31"><title>B109</title></rect>
					<polygon id="B102" points="443.92 522.79 443.92 564.68 419.66 564.68 419.66 591.27 548.43 591.27 548.43 522.79 443.92 522.79"><title>B102</title></polygon>
					<polygon id="A110" points="413.59 216.81 413.59 313.87 519.3 313.87 519.3 287.28 478 287.28 478 258.49 574.27 258.49 574.27 287.28 574.27 313.87 619.02 313.87 619.02 216.81 413.59 216.81"><title>A110</title></polygon>
				</g>
			</motion.g>

			{/* Green interactive spots */}
			<motion.g
        id="GreenSpots"
        initial={{ opacity: 0, scale: 0.95 }}
        animate={{ opacity: 1, scale: 1 }}
        transition={{ delay: 0.5, duration: 0.4 }}
      >
				{nonSelectedSpots.map((id) => renderSpot(id, dMap[id], latestSpot))}
			</motion.g>


      {/* Decorative Elements */}
			<motion.g
        id="Decorations"
        initial={{ opacity: 0, y: 10 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ delay: 0.8, duration: 0.4 }}
      >
				<g id="Decorations" stroke="#545554" fill="none">
						{/* --- Stairs and Elevator --- */}
					<g id="Stair1-2" data-name="Stair1">
						<rect fill="#d6d4c9" x="812.25" y="187.34" width="55.46" height="23.05" />
						<g stroke="#6c584c" strokeWidth={1}>
							{[...Array(9)].map((_, i) => (
								<line key={i} x1={820.86 + i * 4.75} y1={187.21} x2={820.86 + i * 4.75} y2={210.26} />
							))}
						</g>
						<g stroke="#6c584c" strokeWidth={1}>
							<line x1="820.04" y1="194.44" x2="865.81" y2="194.44" />
							<polygon fill="#6c584c" points="813.4 194.42 820.04 191.1 820.04 197.74 813.4 194.42" />
							<line x1="860.13" y1="205.36" x2="814.35" y2="205.36" />
							<polygon fill="#6c584c" points="866.76 205.34 860.13 202.02 860.13 208.65 866.76 205.34" />
						</g>
					</g>

					<g id="Stair3-2" data-name="Stair3">
						<rect fill="#d6d4c9" x="805.16" y="528.28" width="61.84" height="25.7" />
						<g stroke="#6c584c" strokeWidth={1}>
							{[...Array(9)].map((_, i) => (
								<line key={i} x1={814.75 + i * 5.3} y1={528.14} x2={814.75 + i * 5.3} y2={553.83} />
							))}
						</g>
						<g stroke="#6c584c" strokeWidth={1}>
							<line x1="813.83" y1="536.2" x2="864.87" y2="536.2" />
							<polygon fill="#6c584c" points="806.44 536.17 813.83 532.48 813.83 539.87 806.44 536.17" />
							<line x1="858.53" y1="548.36" x2="807.5" y2="548.36" />
							<polygon fill="#6c584c" points="865.93 548.34 858.53 544.65 858.53 552.04 865.93 548.34" />
						</g>
					</g>

					<g id="Stair2-2" data-name="Stair2">
						<rect fill="#d6d4c9" x="200.55" y="287.44" width="68.04" height="28.27" />
						<g stroke="#6c584c" strokeWidth={1}>
							{[...Array(9)].map((_, i) => (
								<line key={i} x1={211.11 + i * 5.83} y1={287.28} x2={211.11 + i * 5.83} y2={315.56} />
							))}
						</g>
						<g stroke="#6c584c" strokeWidth={1}>
							<line x1="210.1" y1="296.15" x2="266.25" y2="296.15" />
							<polygon fill="#6c584c" points="201.96 296.12 210.1 292.06 210.1 300.19 201.96 296.12" />
							<line x1="259.28" y1="309.54" x2="203.13" y2="309.54" />
							<polygon fill="#6c584c" points="267.41 309.51 259.28 305.44 259.28 313.58 267.41 309.51" />
						</g>
					</g>

					<g id="Cafe">
						<path className="cls-36" d="M494.95,251.21c.56-.11,1.08-.26,1.61-.32,2.93-.33,4.77,1.64,4.39,4.62-.27,2.14-1.43,3.66-3.27,4.66-1.29.7-2.65,1.27-3.97,1.89-.39.18-.77.36-1.15.55-.65.32-1.24.73-1.74,1.28-.94,1.06-2.07,1.9-3.3,2.6-.13.08-.26.16-.51.3.28.01.44.03.6.03,2.13,0,4.27,0,6.4,0,.69,0,1.14.31,1.27.84.18.76-.35,1.39-1.18,1.39-1.83,0-3.67,0-5.5,0-7.9,0-15.8,0-23.71,0-.16,0-.32,0-.47-.01-.53-.06-.93-.48-.98-1-.05-.55.29-1.04.83-1.17.2-.05.41-.05.61-.05,2.09,0,4.17,0,6.26,0,.15,0,.31,0,.61,0-.23-.15-.33-.23-.44-.3-4.79-2.87-7.23-7.15-7.47-12.68-.08-1.75-.02-3.51-.01-5.26,0-.81.42-1.24,1.22-1.24,9.28,0,18.55,0,27.83,0,.24,0,.47,0,.71,0,.94,0,1.34.39,1.34,1.31,0,.7,0,1.39,0,2.09,0,.15.01.31.02.47ZM492.67,254.09c-.26,0-.46,0-.67,0-6.61,0-13.21,0-19.82,0-.21,0-.41,0-.62,0-.61-.04-1.05-.53-1.03-1.14.02-.72.52-1.09,1.48-1.09,6.72,0,13.43,0,20.15,0,.17,0,.33,0,.54,0,0-.62-.03-1.18,0-1.73.03-.46-.13-.58-.58-.58-8.52.01-17.04,0-25.56,0-.15,0-.31.01-.52.02.08,2.11-.2,4.21.22,6.26.97,4.71,3.62,8.05,8.23,9.63,2.62.9,5.37.78,8.03.38,4.62-.7,7.63-3.54,9.34-7.81.5-1.24.75-2.54.79-3.96ZM493.83,259.55c1.27-.43,2.9-1.32,3.67-2,.96-.85,1.37-1.91,1.23-3.18-.08-.79-.48-1.2-1.27-1.28-.83-.09-1.59.17-2.33.51-.11.05-.18.27-.2.42-.07.59-.05,1.21-.18,1.79-.27,1.26-.61,2.5-.92,3.74Z"/>
						<path className="cls-36" d="M478.28,241.28c-.08,1.6-.78,2.62-1.73,3.47-.39.35-1.01.24-1.39-.12-.39-.38-.45-.97-.13-1.43.15-.22.34-.42.49-.64.44-.63.48-1.29.08-1.96-.26-.43-.54-.85-.82-1.27-1.09-1.61-1.08-3.22.05-4.81.38-.54.81-1.05,1.26-1.53.43-.47,1.13-.47,1.57-.06.45.42.46,1.07.05,1.58-.35.43-.71.85-1.01,1.31-.49.78-.48,1.59.01,2.37.33.54.73,1.04,1.01,1.6.27.54.44,1.13.56,1.48Z"/>
						<path className="cls-36" d="M483.29,233.9c-.07.13-.2.42-.37.67-.31.44-.68.83-.96,1.29-.47.77-.45,1.56.03,2.33.28.44.58.87.85,1.31,1.14,1.84.78,3.86-.92,5.2-.43.34-1.04.33-1.44-.03-.4-.35-.49-.97-.2-1.43.03-.05.07-.1.11-.15,1.01-1.29,1.02-1.75.09-3.12-.27-.41-.54-.82-.77-1.25-.63-1.16-.67-2.36-.01-3.49.47-.81,1.09-1.54,1.69-2.27.31-.38.77-.42,1.22-.24.44.18.65.53.68,1.18Z"/>
					</g>

					<g id="staircase">
						<path className="cls-25" d="M469.48,433.74l-29.78-29.2-9.11,9.29.29,28.86,15.21,14.91c6.59,6.46,17.17,6.36,23.63-.23,6.46-6.59,6.36-17.17-.23-23.63Z"/>
						<path className="cls-25" d="M459.26,444.12l-21.6-21.18c-.92-.9-2.47-.24-2.46,1.05l.03,2.57,21.13,20.71c.87.85,2.29.81,3.11-.11.77-.87.63-2.22-.19-3.03Z"/>
						<g>
							<g>
								<line className="cls-34" x1="456.37" y1="447.24" x2="446.25" y2="457.56"/>
								<line className="cls-13" x1="457.25" y1="447.91" x2="451.53" y2="461.21"/>
								<line className="cls-33" x1="457.97" y1="448.01" x2="457.45" y2="462.37"/>
								<line className="cls-15" x1="458.58" y1="447.59" x2="463.37" y2="461.42"/>
								<line className="cls-32" x1="459.19" y1="447.4" x2="468.55" y2="458.45"/>
								<line className="cls-33" x1="459.73" y1="446.96" x2="472.35" y2="453.83"/>
								<line className="cls-33" x1="459.98" y1="446.3" x2="474.38" y2="448.16"/>
								<line className="cls-33" x1="459.85" y1="445.6" x2="474.19" y2="442.08"/>
								<line className="cls-35" x1="459.82" y1="444.8" x2="471.77" y2="436.45"/>
							</g>
							<line className="cls-33" x1="453.85" y1="444.91" x2="443.65" y2="455.31"/>
							<line className="cls-33" x1="451.42" y1="442.53" x2="441.22" y2="452.93"/>
							<line className="cls-33" x1="468.15" y1="432.57" x2="457.95" y2="442.97"/>
							<line className="cls-33" x1="465.72" y1="430.19" x2="455.53" y2="440.59"/>
							<line className="cls-33" x1="463.46" y1="427.97" x2="453.26" y2="438.37"/>
							<line className="cls-33" x1="461.03" y1="425.59" x2="450.84" y2="435.99"/>
							<line className="cls-33" x1="458.88" y1="423.48" x2="448.68" y2="433.88"/>
							<line className="cls-33" x1="456.45" y1="421.1" x2="446.25" y2="431.5"/>
						</g>
						<g>
							<g>
								<g>
									<path className="cls-33" d="M466.46,435.89c5.24,5.13,5.32,13.54.19,18.78s-13.54,5.32-18.78.19"/>
									<line className="cls-33" x1="466.46" y1="435.89" x2="446.46" y2="416.3"/>
									<line className="cls-33" x1="447.87" y1="454.86" x2="438.38" y2="445.56"/>
								</g>
								<polygon className="cls-33" points="442.71 412.62 448.3 414.42 444.62 418.17 442.71 412.62 442.71 412.62"/>
							</g>
							<g>
								<g>
									<path className="cls-33" d="M461.91,441.51c2.4,2.35,2.44,6.21.09,8.61s-6.21,2.44-8.61.09"/>
									<line className="cls-33" x1="461.91" y1="441.51" x2="441.43" y2="421.43"/>
									<line className="cls-33" x1="453.39" y1="450.2" x2="443.42" y2="440.43"/>
								</g>
								<polygon className="cls-33" points="439.66 436.75 445.26 438.55 441.58 442.3 439.66 436.75 439.66 436.75"/>
							</g>
						</g>
					</g>

					<g id="Elevator">
						<path className="cls-38" d="M815.05,221.31c0-.1,0-.17,0-.24,0-.56,0-1.11,0-1.67,0-.27.11-.38.37-.38,3.24,0,6.49,0,9.73,0,.28,0,.38.1.38.39,0,.62,0,1.24,0,1.9.1,0,.18,0,.26,0,3.4,0,6.8,0,10.19,0,.4,0,.46.07.46.47,0,7.81,0,15.62,0,23.44,0,.4-.07.47-.46.47-7.78,0-15.56,0-23.34,0-.81,0-1.62,0-2.43,0-.33,0-.42-.08-.42-.41,0-7.85,0-15.71,0-23.56,0-.32.08-.4.4-.41,1.5,0,3.01,0,4.51,0,.09,0,.19,0,.32,0ZM811.96,245.11v-.34c0-6.9,0-13.81,0-20.71,0-.1,0-.2,0-.3,0-.18.1-.29.28-.3.11,0,.21,0,.32,0,5.16,0,10.33,0,15.49,0,.57,0,.58,0,.58.58,0,6.93,0,13.86,0,20.79q0,.3.31.3c2.21,0,4.43,0,6.64,0q.32,0,.32-.31c0-7.56,0-15.12,0-22.68q0-.26-.26-.26c-3.58,0-7.16,0-10.74,0-4.75,0-9.5,0-14.25,0-.09,0-.18,0-.28,0v23.23h1.57ZM812.53,224.02c0,.11-.01.18-.01.25,0,6.86,0,13.72,0,20.58,0,.28,0,.28.29.28,2.31,0,4.61,0,6.92,0,.29,0,.29,0,.29-.3,0-6.85,0-13.71,0-20.56,0-.2-.04-.26-.25-.26-2.33,0-4.67,0-7,0-.07,0-.14,0-.24,0ZM820.58,245.11c.12,0,.22.02.32.02,2.31,0,4.61,0,6.92,0,.27,0,.27,0,.27-.28,0-6.86,0-13.72,0-20.59,0-.21-.06-.26-.26-.25-2.33,0-4.65,0-6.98,0-.27,0-.27,0-.27.27,0,6.86,0,13.71,0,20.57,0,.08,0,.16,0,.26ZM815.63,221.3h9.33v-1.69h-9.33v1.69Z"/>
						<path className="cls-38" d="M832.27,233.08c-.55,0-1.11,0-1.66,0-.15,0-.3-.02-.36-.19-.06-.16.02-.26.13-.37.54-.54,1.08-1.08,1.62-1.61.23-.22.34-.22.57,0,.54.54,1.09,1.09,1.63,1.63.1.1.18.2.11.35-.06.14-.18.18-.33.18-.57,0-1.14,0-1.7,0ZM832.3,231.49c-.35.35-.7.68-1.03,1.01h2.03c-.35-.36-.69-.7-1-1.01Z"/>
						<path className="cls-38" d="M832.28,235.11c.56,0,1.12,0,1.69,0,.14,0,.3.02.32.17.02.11-.02.27-.1.35-.55.57-1.11,1.12-1.67,1.68-.18.18-.32.17-.5,0-.56-.55-1.11-1.1-1.66-1.66-.1-.1-.18-.2-.11-.35.07-.15.19-.18.35-.18.56,0,1.12,0,1.69,0ZM832.28,236.7c.32-.32.66-.66,1.01-1.02h-2.03c.34.34.68.68,1.02,1.02Z"/>
					</g>
				</g>
			</motion.g>


							{/* --- Dashed Navigation Paths --- */}
			<motion.g
        id="Level1_Path"
        stroke="#6c584c"
        strokeWidth={1}
        strokeDasharray="10 6"
        opacity={0.65}
        initial={{ strokeDashoffset: 80, opacity: 0 }}
				animate={{ strokeDashoffset: 0, opacity: 1 }}
				transition={{ delay: 1.2, duration: 1.2, ease: 'easeInOut' }}
      >
				<g id="Level1_Path" stroke="#545554"  fill="none" strokeWidth={1} strokeDasharray="10 6" opacity={0.65}>
					<line x1="321.79" y1="434.89" x2="327.79" y2="434.89" />
					<line x1="340.52" y1="434.89" x2="385.09" y2="434.89" />
					<polyline points="391.46 434.89 397.46 434.89 397.46 428.89" />
					<line x1="397.46" y1="417.08" x2="397.46" y2="210.5" />
					<polyline points="397.46 204.6 397.46 198.6 391.46 198.6" />
					<line x1="379.07" y1="198.6" x2="187.05" y2="198.6" />
					<line x1="180.86" y1="198.6" x2="174.86" y2="198.6" />
					<line x1="397.46" y1="198.6" x2="403.46" y2="198.6" />
					<line x1="415.11" y1="198.6" x2="781.97" y2="198.6" />
					<line x1="787.79" y1="198.6" x2="793.79" y2="198.6" />
					<line x1="781.24" y1="240.67" x2="781.24" y2="234.67" />
					<line x1="781.24" y1="224.74" x2="781.24" y2="209.83" />
					<line x1="781.24" y1="204.87" x2="781.24" y2="198.87" />
					<line x1="397.46" y1="339.09" x2="403.46" y2="339.09" />
					<line x1="416" y1="339.09" x2="560.24" y2="339.09" />
					<polyline points="566.51 339.09 572.51 339.09 572.51 345.09" />
					<line x1="572.51" y1="357.73" x2="572.51" y2="528.28" />
					<polyline points="572.51 534.6 572.51 540.6 578.51 540.6" />
					<line x1="590.39" y1="540.6" x2="774.58" y2="540.6" />
					<line x1="780.52" y1="540.6" x2="786.52" y2="540.6" />
					<line x1="397.46" y1="434.89" x2="397.46" y2="440.89" />
					<polyline points="401.22 450.99 423.22 473.31 423.22 529.31" />
					<polyline points="423.22 535.13 423.22 541.13 417.22 541.13" />
					<line x1="404.83" y1="541.13" x2="311.9" y2="541.13" />
					<line x1="305.7" y1="541.13" x2="299.7" y2="541.13" />
					<line x1="400.76" y1="540.6" x2="400.76" y2="588.6" />
					{/* <line x1="400.76" y1="557.34" x2="400.76" y1="573.45" /> */}
					{/* <line x1="400.76" y1=".82" x2="400.76" y1="584.82" /> */}
					<line x1="423.22" y1="499.61" x2="429.22" y2="499.61" />
					<line x1="441.7" y1="499.61" x2="560.27" y2="499.61" />		
					<line x1="566.51" y1="499.61" x2="572.51" y2="499.61" />
					<line x1="397.46" y1="301.42" x2="391.46" y2="301.42" />
					<line x1="380.67" y1="301.42" x2="299.71" y2="301.42" />
					<line x1="294.32" y1="301.42" x2="288.32" y2="301.42" />
					<line x1="548.43" y1="339.09" x2="548.43" y2="333.09" />
					<line x1="548.43" y1="324.89" x2="548.43" y2="312.58" />
					<line x1="548.43" y1="308.48" x2="548.43" y2="302.48" />
				</g>

			</motion.g>

			{latestSpot &&
        renderSpot(latestSpot, dMap[latestSpot], latestSpot)}
    </>
  );
}